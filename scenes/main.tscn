[gd_scene load_steps=31 format=3 uid="uid://cbr6sqaig57ht"]

[ext_resource type="Script" uid="uid://c8f112m6eeu1d" path="res://scripts/main.gd" id="1_0wfyh"]
[ext_resource type="PackedScene" uid="uid://dgrsfuexjkvmp" path="res://scenes/player.tscn" id="1_o5qli"]
[ext_resource type="Texture2D" uid="uid://cwl833bi2mjlm" path="res://assets/Skybox.png" id="3_sugp2"]
[ext_resource type="PackedScene" uid="uid://bmjvr6kv4a1tu" path="res://scenes/abandoned_house.tscn" id="4_jyhfs"]
[ext_resource type="PackedScene" uid="uid://djv7f3q07u6fh" path="res://scenes/pratu.tscn" id="5_tbgi4"]
[ext_resource type="PackedScene" uid="uid://to4hoei7kmd2" path="res://scenes/tire.tscn" id="6_tefeu"]
[ext_resource type="PackedScene" uid="uid://jtlo1wix1vk1" path="res://scenes/fuel.tscn" id="7_o6xl0"]
[ext_resource type="PackedScene" uid="uid://qhpy4olca2cu" path="res://scenes/phee.tscn" id="8_tipki"]
[ext_resource type="Script" uid="uid://yia56ja0fk0v" path="res://scripts/car_trigger.gd" id="9_85g3d"]
[ext_resource type="AudioStream" uid="uid://b0agd3oqyaa8g" path="res://assets/car-engine-ignition-fail-352768.mp3" id="9_jkv2x"]
[ext_resource type="Shader" uid="uid://bxjdnbffy5er6" path="res://shader/main.gdshader" id="10_choun"]
[ext_resource type="PackedScene" uid="uid://dv7o4h0nxtxws" path="res://scenes/dust.tscn" id="11_ya4ey"]
[ext_resource type="PackedScene" uid="uid://c1oeoa4crkihi" path="res://scenes/dialogue.tscn" id="12_eb6dy"]
[ext_resource type="Script" uid="uid://djmhdugvddans" path="res://scripts/js.gd" id="13_a8y0u"]
[ext_resource type="AudioStream" uid="uid://ci1p0b68e5b17" path="res://assets/01 - Trey Travis - Laughter With No Mouth.wav" id="13_trceg"]
[ext_resource type="PackedScene" uid="uid://but4u6xjkaua7" path="res://scenes/pheeBodyGuard.tscn" id="16_jbj1t"]
[ext_resource type="Script" uid="uid://crvaiadi7o6s8" path="res://scripts/path_3d_4.gd" id="17_muem4"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ya4ey"]
shader = ExtResource("10_choun")
shader_parameter/desaturation = 0.6
shader_parameter/sepia_strength = 0.4
shader_parameter/noise_strength = 0.15
shader_parameter/noise_scale = 50.0
shader_parameter/time_speed = 1.5
shader_parameter/scanline_strength = 0.05
shader_parameter/vignette_strength = 0.8

[sub_resource type="PanoramaSkyMaterial" id="PanoramaSkyMaterial_jyhfs"]
panorama = ExtResource("3_sugp2")

[sub_resource type="Sky" id="Sky_trceg"]
sky_material = SubResource("PanoramaSkyMaterial_jyhfs")

[sub_resource type="Environment" id="Environment_tefeu"]
background_mode = 2
sky = SubResource("Sky_trceg")
ambient_light_source = 3
ambient_light_energy = 0.0
glow_intensity = 8.0
fog_enabled = true
fog_mode = 1
fog_light_color = Color(0.150319, 0.167042, 0.193333, 1)
fog_light_energy = 0.0
fog_density = 1.0
fog_aerial_perspective = 0.89
fog_sky_affect = 0.79

[sub_resource type="BoxShape3D" id="BoxShape3D_tbgi4"]
size = Vector3(1, 10.2178, 59.403)

[sub_resource type="BoxShape3D" id="BoxShape3D_tefeu"]
size = Vector3(44.6641, 8.4491, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_choun"]
size = Vector3(5.64685, 2.60278, 2.27905)

[sub_resource type="BoxShape3D" id="BoxShape3D_trceg"]
size = Vector3(2.09718, 1, 0.497986)

[sub_resource type="Curve3D" id="Curve3D_muem4"]
closed = true
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 1.99758, 0.320648, -0.223728, 0, 0, 0, 0, 0, 0, -11.2482, 0.266688, -0.0724545, 0, 0, 0, 0, 0, 0, -11.7408, 0.256826, 6.22193, 0, 0, 0, 0, 0, 0, -11.2981, 0.279344, -0.105886),
"tilts": PackedFloat32Array(0, 0, 0, 0)
}
point_count = 4

[sub_resource type="Curve3D" id="Curve3D_jbj1t"]
closed = true
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0.197704, 0.0391333, 0.0103817, 0, 0, 0, 0, 0, 0, 10.1969, -0.310354, 0.858614, 0, 0, 0, 0, 0, 0, 10.0867, -0.311056, 8.67743, 0, 0, 0, 0, 0, 0, 0.488097, -0.280456, 7.91084, 0, 0, 0, 0, 0, 0, 0.677679, -0.328422, 5.79999, 0, 0, 0, 0, 0, 0, 8.10289, -0.272877, 5.60332, 0, 0, 0, 0, 0, 0, 8.32349, -0.331629, 0.678167),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0, 0, 0)
}
point_count = 7

[sub_resource type="Curve3D" id="Curve3D_dp3eg"]
closed = true
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, -0.974392, -0.402868, -0.0747681, 0, 0, 0, 0, 0, 0, -3.43183, -0.372043, 0.186571, 0, 0, 0, 0, 0, 0, -3.65457, -0.384957, 1.64347, 0, 0, 0, 0, 0, 0, -7.01621, -0.377112, 1.38616, 0, 0, 0, 0, 0, 0, -6.90826, -0.369779, -2.26153, 0, 0, 0, 0, 0, 0, -9.45124, -0.363066, -2.51158, 0, 0, 0, 0, 0, 0, -9.29765, -0.351034, -3.57281, 0, 0, 0, 0, 0, 0, -16.1747, -0.386585, -3.76955, 0, 0, 0, 0, 0, 0, -16.3922, -0.380254, -8.5107, 0, 0, 0, 0, 0, 0, -16.478, -0.356718, -3.54637, 0, 0, 0, 0, 0, 0, -17.7036, -0.347066, -3.38211, 0, 0, 0, 0, 0, 0, -19.5117, -0.353243, -3.41291, 0, 0, 0, 0, 0, 0, -19.4914, -0.312842, -8.60088, 0, 0, 0, 0, 0, 0, -19.6263, -0.362742, -3.37095, 0, 0, 0, 0, 0, 0, -22.6837, -0.384326, -3.41142, 0, 0, 0, 0, 0, 0, -23.3424, -0.38801, -0.258898, 0, 0, 0, 0, 0, 0, -28.0569, -0.396042, -4.51074, 0, 0, 0, 0, 0, 0, -22.4852, -0.368781, -3.48983, 0, 0, 0, 0, 0, 0, -9.06477, -0.372913, -3.44533, 0, 0, 0, 0, 0, 0, -9.0247, -0.345756, -4.00301, 0, 0, 0, 0, 0, 0, -3.1716, -0.34333, -3.93914, 0, 0, 0, 0, 0, 0, -9.02992, -0.342806, -4.16781, 0, 0, 0, 0, 0, 0, -8.73212, -0.394475, -8.04756, 0, 0, 0, 0, 0, 0, -8.34658, -0.403432, -11.601, 0, 0, 0, 0, 0, 0, -6.52251, -0.226582, -11.6799, 0, 0, 0, 0, 0, 0, -3.72149, -0.393086, -13.6583, 0, 0, 0, 0, 0, 0, -4.72046, -0.331468, -9.05906, 0, 0, 0, 0, 0, 0, -1.82609, -0.365991, -7.89771, 0, 0, 0, 0, 0, 0, -1.25261, -0.38096, -4.45807, 0, 0, 0, 0, 0, 0, 3.85808, -0.385693, -3.85519, 0, 0, 0, 0, 0, 0, -1.36657, -0.377423, -3.74303),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)
}
point_count = 31

[sub_resource type="Curve3D" id="Curve3D_0ld40"]
closed = true
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, -0.0294743, -0.408469, -11.8422, 0, 0, 0, 0, 0, 0, -0.364259, -0.264558, -18.7336, 0, 0, 0, 0, 0, 0, -12.5001, -0.700325, -19.0887, 0, 0, 0, 0, 0, 0, -12.3713, -0.560482, -12.46, 0, 0, 0, 0, 0, 0, -27.7734, -0.609651, -12.0551, 0, 0, 0, 0, 0, 0, -19.3858, -0.427127, -20.3906, 0, 0, 0, 0, 0, 0, 5.08534, -0.327789, -19.7896, 0, 0, 0, 0, 0, 0, 5.22901, -0.230658, -12.7079),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0, 0, 0, 0)
}
point_count = 8

[sub_resource type="Curve3D" id="Curve3D_gqmmt"]
closed = true
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, -20.725, -0.657921, -13.3653, 0, 0, 0, 0, 0, 0, -12.5073, -0.0144658, -12.726, 0, 0, 0, 0, 0, 0, -11.8781, -0.668005, -19.6465, 0, 0, 0, 0, 0, 0, -2.00322, -0.430444, -19.1976, 0, 0, 0, 0, 0, 0, 3.55714, -0.314443, -15.0233, 0, 0, 0, 0, 0, 0, 5.06285, -0.246102, -20.4167, 0, 0, 0, 0, 0, 0, -6.1535, -0.611602, -20.0395, 0, 0, 0, 0, 0, 0, -10.9721, -0.688584, -24.191, 0, 0, 0, 0, 0, 0, -15.5977, -0.687474, -22.3356, 0, 0, 0, 0, 0, 0, -17.4791, -0.695343, -18.9591),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0)
}
point_count = 10

[node name="main" type="Node3D"]
script = ExtResource("1_0wfyh")

[node name="filter" type="ColorRect" parent="."]
material = SubResource("ShaderMaterial_ya4ey")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_tefeu")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.729578, -0.573149, -0.373118, 0.445878, -0.0150488, 0.894967, -0.518564, -0.819313, 0.244575, -4.93839, 16.8988, 2.53228)
visible = false

[node name="Abandoned_House" parent="." instance=ExtResource("4_jyhfs")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 40.8354, 0, 98.57)

[node name="pratu" parent="." instance=ExtResource("5_tbgi4")]
transform = Transform3D(0.725, 0, 0, 0, 1.014, 0, 0, 0, 0.72, 11.8929, 0.873842, -19.3763)

[node name="barier" type="StaticBody3D" parent="."]

[node name="barier" type="CollisionShape3D" parent="barier"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -21.8181, 1.81787, -22.1709)
shape = SubResource("BoxShape3D_tbgi4")

[node name="barier2" type="CollisionShape3D" parent="barier"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 23.0556, 1.63574, -22.1709)
shape = SubResource("BoxShape3D_tbgi4")

[node name="barier3" type="CollisionShape3D" parent="barier"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.599762, 2.72064, 1.33797)
shape = SubResource("BoxShape3D_tefeu")

[node name="barier4" type="CollisionShape3D" parent="barier"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.599762, 2.72064, -52.0752)
shape = SubResource("BoxShape3D_tefeu")

[node name="tire" parent="." instance=ExtResource("6_tefeu")]
transform = Transform3D(0.25, 0, 0, 0, 0.25, 0, 0, 0, 0.25, 18.7487, 0.28706, -31.976)

[node name="tire2" parent="." instance=ExtResource("6_tefeu")]
transform = Transform3D(0.25, 0, 0, 0, 0.25, 0, 0, 0, 0.25, 4.12138, -3.30905, -19.5417)

[node name="tire3" parent="." instance=ExtResource("6_tefeu")]
transform = Transform3D(0.25, 0, 0, 0, 0.25, 0, 0, 0, 0.25, -14.6609, 3.86725, -23.0831)

[node name="tire4" parent="." instance=ExtResource("6_tefeu")]
transform = Transform3D(0.25, 0, 0, 0, 0.25, 0, 0, 0, 0.25, 3.13047, -0.0153048, -33.1848)

[node name="fuel" parent="." instance=ExtResource("7_o6xl0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.98132, -3.69044, -27.915)

[node name="car_trigger" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.4638, 0, 0)
script = ExtResource("9_85g3d")

[node name="CollisionShape3D" type="CollisionShape3D" parent="car_trigger"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.52858, -0.430318, -3.34838)
shape = SubResource("BoxShape3D_choun")

[node name="AudioStreamPlayer3D" type="AudioStreamPlayer3D" parent="car_trigger"]
stream = ExtResource("9_jkv2x")

[node name="alert" type="Label" parent="."]
visible = false
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -80.0
offset_top = -93.0
offset_right = 80.0
offset_bottom = -70.0
grow_horizontal = 2
grow_vertical = 0
theme_override_font_sizes/font_size = 18
text = "“Need tires and fuel”"

[node name="dust" parent="." instance=ExtResource("11_ya4ey")]
transform = Transform3D(-9.35424e-08, 2.14, 0, -2.14, -9.35424e-08, 0, 0, 0, 2.14, 0, 13.8542, -12.0473)

[node name="player" parent="." instance=ExtResource("1_o5qli")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.53845, -1.00354, -0.337094)

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("13_trceg")
volume_db = 5.0
autoplay = true

[node name="dialogue" parent="." instance=ExtResource("12_eb6dy")]

[node name="js1" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 12.3704, 1.19209e-07, -19.6997)
script = ExtResource("13_a8y0u")

[node name="CollisionShape3D" type="CollisionShape3D" parent="js1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0416336, 0, -0.251007)
shape = SubResource("BoxShape3D_trceg")

[node name="phee" parent="." instance=ExtResource("8_tipki")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 16.7251, -2.38419e-07, -23.0351)

[node name="Path3D" type="Path3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.28342, -28.0851)
curve = SubResource("Curve3D_muem4")

[node name="PathFollow3D" type="PathFollow3D" parent="Path3D"]
transform = Transform3D(-0.0114197, -0.00407318, 0.999926, 2.3283e-10, 0.999989, 0.00407345, -0.999934, 4.65177e-05, -0.0114196, 1.99758, 0.320648, -0.223728)

[node name="pheeBodyGuard" parent="Path3D/PathFollow3D" node_paths=PackedStringArray("pathfollow") instance=ExtResource("16_jbj1t")]
pathfollow = NodePath("..")
speed = 1.0

[node name="Path3D2" type="Path3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.53006, -3.39798, -30.6132)
curve = SubResource("Curve3D_jbj1t")

[node name="PathFollow3D" type="PathFollow3D" parent="Path3D2"]
transform = Transform3D(-0.0845266, 0.0346808, -0.995817, 1.86264e-09, 0.999394, 0.0348053, 0.996421, 0.00294198, -0.0844753, 0.197704, 0.0391333, 0.0103817)

[node name="pheeBodyGuard" parent="Path3D2/PathFollow3D" node_paths=PackedStringArray("pathfollow") instance=ExtResource("16_jbj1t")]
pathfollow = NodePath("..")
speed = 1.0

[node name="Path3D3" type="Path3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 0.999999, 13.8587, 0.227675, -21.7946)
curve = SubResource("Curve3D_dp3eg")

[node name="PathFollow3D" type="PathFollow3D" parent="Path3D3"]
transform = Transform3D(-0.105748, 0.0124021, 0.994303, -1.39697e-09, 0.999905, -0.012472, -0.994381, -0.00131891, -0.10574, -0.974392, -0.402868, -0.0747681)

[node name="pheeBodyGuard" parent="Path3D3/PathFollow3D" node_paths=PackedStringArray("pathfollow") instance=ExtResource("16_jbj1t")]
pathfollow = NodePath("..")
speed = 1.0

[node name="Path3D4" type="Path3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 0.999999, 13.8587, 0.227675, -21.7946)
curve = SubResource("Curve3D_dp3eg")
script = ExtResource("17_muem4")

[node name="PathFollow3D" type="PathFollow3D" parent="Path3D4"]
transform = Transform3D(-0.105748, 0.0124021, 0.994303, -1.39697e-09, 0.999905, -0.012472, -0.994381, -0.00131891, -0.10574, -0.974392, -0.402868, -0.0747681)

[node name="pheeBodyGuard" parent="Path3D4/PathFollow3D" node_paths=PackedStringArray("pathfollow") instance=ExtResource("16_jbj1t")]
pathfollow = NodePath("..")
speed = 1.0

[node name="Path3D5" type="Path3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 0.999999, 13.8587, 0.227675, -21.7946)
curve = SubResource("Curve3D_0ld40")

[node name="PathFollow3D" type="PathFollow3D" parent="Path3D5"]
transform = Transform3D(0.998785, 0.00101189, 0.0485128, 5.82055e-11, 0.999782, -0.0208537, -0.0485216, 0.0208291, 0.998605, -0.0294743, -0.408469, -11.8422)

[node name="pheeBodyGuard" parent="Path3D5/PathFollow3D" node_paths=PackedStringArray("pathfollow") instance=ExtResource("16_jbj1t")]
pathfollow = NodePath("..")
speed = 1.0

[node name="Path3D6" type="Path3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 0.999999, 13.8587, 0.227675, -21.7946)
curve = SubResource("Curve3D_gqmmt")

[node name="PathFollow3D" type="PathFollow3D" parent="Path3D6"]
transform = Transform3D(-0.0775584, -0.0775937, -0.993958, 0, 0.996961, -0.0778281, 0.996982, -0.00603625, -0.0773231, -20.725, -0.657921, -13.3653)

[node name="pheeBodyGuard" parent="Path3D6/PathFollow3D" node_paths=PackedStringArray("pathfollow") instance=ExtResource("16_jbj1t")]
transform = Transform3D(0.0556736, -1.86265e-09, 0.998449, -0.0508149, 0.998704, 0.00283345, -0.997155, -0.0508938, 0.0556015, 19.1999, -0.768151, -28.001)
pathfollow = NodePath("..")
speed = 1.0

[connection signal="body_entered" from="js1" to="js1" method="_on_body_entered"]
